define(["libs","cBase"],function(a,b){var c=new b.Class({__propertys__:function(){this.data,this.filters=[],this.group={},this.isUpdate=!0},initialize:function(a){this.setOption(a)},setOption:function(a){a=a||{};for(var b in a)switch(b){case"data":this.setData(data)}},filter:function(a,b){if("function"!=typeof a)throw"Screening function did not fill in";var c=function(b,c){return a(c,b)};return this.filters=_.filter(this.data,c),this.filters=this.filters||[],"function"==typeof b?this.filters.sort(b):this.filters},groupBy:function(a,b){return this.group=_.filter(this.data,b),this.group=_.groupBy(this.group,a),this.group},setData:function(a){this.data=a,this.isUpdate=!0}});return c});