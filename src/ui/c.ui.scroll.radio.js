define(["libs","cBase","cUILayer","cUIScrollList"],function(a,b,c,d){var e={},f={prefix:"cui-"},g={};g.class=f.prefix+"warning",g.onCreate=function(){this.root.html(['<div class="cui-pop-box" >','<div class="cui-hd">','<div class="cui-text-center">',""+this.title+"</div>","</div>",'<div class="cui-bd ">','<div class="cui-roller scrollWrapper">',"</div>",'<p class="cui-roller-tips">',""+this.tips+"</p>",'<div class="cui-roller-btns">','<div class="cui-btns-cancel cui-flexbd">'+this.cancel+'</div> <div class="cui-btns-sure cui-flexbd" >',""+this.ok+"</div>","</div>","</div>","</div>"].join("")),this.title=this.root.find(".cui-text-center"),this.tips=this.root.find(".cui-roller-tips"),this.btCancel=this.root.find(".cui-btns-cancel"),this.btOk=this.root.find(".cui-btns-sure"),this.line=$('<div class="cui-mask-gray"></div><div class="cui-lines">&nbsp;</div>'),this.wrapper=this.root.find(".scrollWrapper")},g.onShow=function(){var a=this;if(this.maskToHide(function(){a.hide()}),!this.data||0==this.data.length)return!1;for(var b=0,c=this.data.length;c>b;b++){var e={wrapper:this.wrapper,data:this.data[b],type:"radio",disItemNum:this.disItemNum,changed:function(b){return function(c){var d=a.changed[b];"function"==typeof d&&d.call(a,c)}}(b)};0==b&&3==c&&(e.className="cui-roller-bd  cui-flex2");var f=new d(e);this.scroll.push(f)}for(var b=0,c=this.data.length;c>b;b++)this.scroll[b].setIndex(this.index[b]),this.scroll[b].setKey(this.key[b]);this.wrapper.append(this.line),this.btOk.on("click",function(){for(var b=[],c=0,d=a.scroll.length;d>c;c++)b.push(a.scroll[c].getSelected());a.okClick.call(a,b),a.hide()}),this.btCancel.on("click",function(){for(var b=[],c=0,d=a.scroll.length;d>c;c++)b.push(a.scroll[c].getSelected());a.cancelClick.call(a,b),a.hide()}),this.setzIndexTop(),this.root.bind("touchmove",function(a){a.preventDefault()}),this.onHashChange=function(){this.hide()},$(window).on("hashchange",$.proxy(this.onHashChange,this))},g.onHide=function(){for(var a=0,b=this.scroll.length;b>a;a++)this.scroll[a].removeEvent();this.btOk.off("click"),this.btCancel.off("click"),this.root.unbind("touchmove"),this.root.remove(),$(window).off("hashchange",$.proxy(this.onHashChange,this))},e.__propertys__=function(){var a=this;this.changed=[],this.scroll=[],this.data=[],this.index=[],this.key=[],this.disItemNum=5,this.tips="",this.btCancel,this.btOk,this.cancel="取消",this.ok="确定",this.cancelClick=function(){a.hide()},this.okClick=function(){a.hide()}},e.initialize=function(a,b){this.setOption(function(a,b){this[a]=b}),a($.extend(g,b))},e.setTips=function(a){this.tips.html(a)};var h=new b.Class(c,e);return h});