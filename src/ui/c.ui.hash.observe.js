define(["libs","cBase","cUIAbstractView"],function(a,b){var c={};return c.__propertys__=function(){this.hash,this.callback,this._hashchange=$.proxy(function(){this.hashchange()},this),this.isend=!0,this.scope},c.initialize=function(a){this.setOption(a)},c.setOption=function(a){var b={hash:!0,callback:!0,scope:!0};for(var c in a)switch(!0){case b[c]:this[c]=a[c]}},c.start=function(){this.isend=!1,window.location.hash+="|"+this.hash,$(window).bind("hashchange",this._hashchange)},c.end=function(){$(window).unbind("hashchange",this._hashchange),this.isend||(this.isend=!0,window.history.go(-1))},c.hashchange=function(){var a=window.location.hash;a.match(new RegExp("\\b"+this.hash+"\\b","ig"))||(this.isend=!0,this.callback.call(this.scope||this),this.end())},new b.Class(c)});